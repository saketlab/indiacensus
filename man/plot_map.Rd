% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/plotting.R
\name{plot_map}
\alias{plot_map}
\title{Creates a choropleth map from census data with sensible defaults.}
\usage{
plot_map(
  data,
  fill_var,
  title = NULL,
  subtitle = NULL,
  legend_title = NULL,
  palette = "viridis",
  reverse = FALSE,
  direction = NULL,
  na_color = "grey80",
  show_state_boundaries = FALSE,
  state_boundary_color = "black",
  state_boundary_width = 0.3,
  trans = "identity",
  limits = NULL,
  breaks = NULL,
  labels = NULL
)
}
\arguments{
\item{data}{An sf object or data frame with geometry attached via
\code{\link{attach_geometry}}}

\item{fill_var}{The variable to map to fill color (unquoted or string)}

\item{title}{Optional title for the map}

\item{subtitle}{Optional subtitle for the map}

\item{legend_title}{Title for the legend}

\item{palette}{Color palette. Options include:
\itemize{
\item \code{"viridis"} - Perceptually uniform, colorblind-friendly (default)
\item \code{"red_blue"} - Diverging red to blue (red = high)
\item \code{"blue_red"} - Diverging blue to red (blue = high)
\item \code{"greens"} - Sequential green palette
\item \code{"oranges"} - Sequential orange palette
\item \code{"reds"} - Sequential red palette
\item \code{"blues"} - Sequential blue palette
\item \code{"purple_green"} - Diverging purple to green
}}

\item{reverse}{Logical. Reverse the color palette direction? Default FALSE.}

\item{direction}{Numeric. Alternative to reverse: use -1 to reverse, 1 for default.
If both reverse and direction are specified, direction takes precedence.}

\item{na_color}{Color for missing values. Default is "grey80"}

\item{show_state_boundaries}{Logical. Overlay state boundaries?}

\item{state_boundary_color}{Color for state boundaries. Default is "black"}

\item{state_boundary_width}{Width of state boundary lines. Default is 0.3}

\item{trans}{Transformation for the color scale (e.g., "log10", "sqrt").
Default is "identity" (no transformation)}

\item{limits}{Optional limits for the color scale as c(min, max)}

\item{breaks}{Optional breaks for the legend}

\item{labels}{Optional labels for the legend breaks}
}
\value{
A ggplot2 object
}
\description{
Creates a choropleth map from census data with sensible defaults.
}
\examples{
\dontrun{
# Load 2011 PCA data
data(census_2011_pca)

# Calculate ST percentage and attach geometry
st_data <- census_2011_pca |>
  dplyr::mutate(st_pct = 100 * st_population / population_total) |>
  attach_geometry(2011)

# Create a basic map
plot_map(st_data, st_pct, title = "ST Population \%")

# With red-blue palette and state boundaries
plot_map(st_data, st_pct,
  title = "ST Population \% (2011)",
  palette = "red_blue",
  show_state_boundaries = TRUE
)
}

}
